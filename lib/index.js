!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(function(){try{return require("crypto")}catch(t){}}()):"function"==typeof define&&define.amd?define(["crypto"],e):"object"==typeof exports?exports.Qetag=e(function(){try{return require("crypto")}catch(t){}}()):t.Qetag=e(t.crypto)}(window,function(n){return o={},i.m=r=[function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guid=void 0,e.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(i.prototype.set=function(t){this.hash=t},i.prototype.get=function(){return Promise.resolve(this.hash)},i.prototype.getSync=function(){return this.hash},i);function i(t){this.file=t,this.hash=""}e.default=n},function(e,t,y){(function(d){var t;e.exports=(t=t||function(l){var t;if("undefined"!=typeof window&&window.crypto&&(t=window.crypto),!t&&"undefined"!=typeof window&&window.msCrypto&&(t=window.msCrypto),!t&&void 0!==d&&d.crypto&&(t=d.crypto),!t)try{t=y(12)}catch(t){}var n=function(){if(t){if("function"==typeof t.getRandomValues)try{return t.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof t.randomBytes)try{return t.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},r=Object.create||function(){function r(){}return function(t){var e;return r.prototype=t,e=new r,r.prototype=null,e}}(),e={},i=e.lib={},o=i.Base={extend:function(t){var e=r(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),(e.init.prototype=e).$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},h=i.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||a).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes,i=t.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var s=r[o>>>2]>>>24-o%4*8&255;e[n+o>>>2]|=s<<24-(n+o)%4*8}else for(var o=0;o<i;o+=4)e[n+o>>>2]=r[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,e=this.sigBytes;t[e>>>2]&=4294967295<<32-e%4*8,t.length=l.ceil(e/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],r=0;r<t;r+=4)e.push(n());return new h.init(e,t)}}),s=e.enc={},a=s.Hex={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var o=e[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new h.init(r,e/2)}},u=s.Latin1={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var o=e[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new h.init(r,e)}},c=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},f=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=c.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var e,r=this._data,n=r.words,i=r.sigBytes,o=this.blockSize,s=4*o,a=i/s,u=(a=t?l.ceil(a):l.max((0|a)-this._minBufferSize,0))*o,c=l.min(4*u,i);if(u){for(var f=0;f<u;f+=o)this._doProcessBlock(n,f);e=n.splice(0,u),r.sigBytes-=c}return new h.init(e,c)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),p=(i.Hasher=f.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){t&&this._append(t);var e=this._doFinalize();return e},blockSize:16,_createHelper:function(r){return function(t,e){return new r.init(e).finalize(t)}},_createHmacHelper:function(r){return function(t,e){return new p.HMAC.init(r,e).finalize(t)}}}),e.algo={});return e}(Math),t)}).call(this,y(11))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(Object.defineProperty(i.prototype,"size",{get:function(){return this.endByte-this.startByte},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"index",{get:function(){return this.startByte/this.file.blockSize},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"blob",{get:function(){return this.file.slice(this.startByte,this.endByte)},enumerable:!1,configurable:!0}),i);function i(t,e,r){this.file=t,this.startByte=e,this.endByte=r}e.default=n},function(t,e,r){var n;t.exports=(n=r(2),function(){var t=n,c=t.lib.WordArray;t.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,n=this._map;t.clamp();for(var i=[],o=0;o<r;o+=3)for(var s=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<r;a++)i.push(n.charAt(s>>>6*(3-a)&63));var u=n.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(t){var e=t.length,r=this._map,n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var i=0;i<r.length;i++)n[r.charCodeAt(i)]=i}var o=r.charAt(64);if(o){var s=t.indexOf(o);-1!==s&&(e=s)}return function(t,e,r){for(var n=[],i=0,o=0;o<e;o++)if(o%4){var s=r[t.charCodeAt(o-1)]<<o%4*2,a=r[t.charCodeAt(o)]>>>6-o%4*2,u=s|a;n[i>>>2]|=u<<24-i%4*8,i++}return c.create(n,i)}(t,e,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),n.enc.Base64)},function(t,e,r){var n;t.exports=(n=r(2),function(){if("function"==typeof ArrayBuffer){var t=n.lib.WordArray,i=t.init;(t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var e=t.byteLength,r=[],n=0;n<e;n++)r[n>>>2]|=t[n]<<24-n%4*8;i.call(this,r,e)}else i.apply(this,arguments)}).prototype=t}}(),n.lib.WordArray)},function(t,e,r){var s;t.exports=(s=r(2),function(){var t=s,e=t.lib,r=e.WordArray,n=e.Hasher,i=t.algo,l=[],o=i.SHA1=n.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],a=r[4],u=0;u<80;u++){if(u<16)l[u]=0|t[e+u];else{var c=l[u-3]^l[u-8]^l[u-14]^l[u-16];l[u]=c<<1|c>>>31}var f=(n<<5|n>>>27)+a+l[u];f+=u<20?1518500249+(i&o|~i&s):u<40?1859775393+(i^o^s):u<60?(i&o|i&s|o&s)-1894007588:(i^o^s)-899497514,a=s,s=o,o=i<<30|i>>>2,i=n,n=f}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+a|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(64+n>>>9<<4)]=Math.floor(r/4294967296),e[15+(64+n>>>9<<4)]=r,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t}});t.SHA1=n._createHelper(o),t.HmacSHA1=n._createHmacHelper(o)}(),s.SHA1)},function(t,e,r){"use strict";t.exports=Math.log2||function(t){return Math.log(t)*Math.LOG2E}},function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.utils=e.Worker=e.Normal=e.File=e.Block=e.Base=void 0;var a=o(r(0)),u=r(1);Object.defineProperty(e,"Base",{enumerable:!0,get:function(){return s(u).default}});var c=r(3);Object.defineProperty(e,"Block",{enumerable:!0,get:function(){return s(c).default}});var f=r(9);Object.defineProperty(e,"File",{enumerable:!0,get:function(){return s(f).default}});var l=r(10);Object.defineProperty(e,"Normal",{enumerable:!0,get:function(){return s(l).default}});var h=r(14);Object.defineProperty(e,"Worker",{enumerable:!0,get:function(){return s(h).default}}),e.utils=a},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(3)),u=r(0),c=/\.([^.]+)$/,f=1,o=(s.prototype.slice=function(t,e){var r=this.file;return r.slice.call(r,t,e)},s.prototype.getBlocks=function(){if(this.blocks)return this.blocks;for(var t=0,e=[];t<this.size;){var r=t+this.blockSize;r>this.size&&(r=this.size),e.push(new i.default(this,t,r)),t+=this.blockSize}return this.blocks=e},s.prototype.getBlockByIndex=function(t){return this.getBlocks()[t]},s);function s(t){var e=t.file,r=void 0===e?null:e,n=t.blockSize,i=void 0===n?4194304:n,o=t.batch,s=void 0===o?u.guid():o;if(!r)throw new Error("QZFile: no file provided!");this.file=r,this.blockSize=i,this.batch=s,this.size=r.size,this.name=r.name||"unknown_"+f++,this.lastModified=r.lastModified||(new Date).getTime();var a=c.exec(r.name)?RegExp.$1.toLowerCase():"";!a&&r.type&&(a=/\/(jpg|jpeg|png|gif|bmp)$/i.exec(r.type)?RegExp.$1.toLowerCase():"")&&(this.name+="."+a),this.ext=a,!r.type&&this.ext&&~"jpg,jpeg,png,gif,bmp".indexOf(this.ext)?this.type="image/"+("jpg"===this.ext?"jpeg":this.ext):this.type=r.type||"application/octet-stream"}e.default=o},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s,a=r(4),u=r(5),c=r(6),f=o(r(7)),l=o(r(13)),h=o(r(1)),p=(s=h.default,i(d,s),d.prototype.loadNext=function(t){return new Promise(function(r,n){var i=new FileReader;i.onload=function(){if(i.result){var t=u.create(i.result),e=c(t);r(e)}else n(new Error("Read file error!"))},i.onloadend=function(){i.onloadend=i.onload=i.onerror=null},i.onerror=function(){n(new Error("Read file error!"))},i.readAsArrayBuffer(t.blob)})},d.prototype.get=function(){var i=this;return this.hash?Promise.resolve(this.hash):Promise.all(this.file.getBlocks().map(l.default(Promise).apply(this,[this.concurrency,function(t){return i.loadNext(t)}]))).then(function(t){var e=f.default(i.file.blockSize),r=null;r=1===t.length?t[0]:(e|=128,r=t.reduce(function(t,e){return t.concat(e)}),c(r));var n=new ArrayBuffer(1);return new DataView(n).setUint8(0,e),r=(r=u.create(n).concat(r)).toString(a).replace(/\//g,"_").replace(/\+/g,"-"),i.hash=r})},d);function d(t,e){void 0===e&&(e=1);var r=s.call(this,t)||this;return r.concurrency=e,r}e.default=p},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e){if(void 0===n){var r=new Error("Cannot find module 'crypto'");throw r.code="MODULE_NOT_FOUND",r}t.exports=n},function(r,t,e){"use strict";function u(t,e,r,n){this.resolve=t,this.fn=e,this.self=r||null,this.args=n}function c(){this._s1=[],this._s2=[]}r.exports=function(t){var a;function e(i,r){var o=new c;function n(e,r,n){if(i){i--;var t=new a(function(t){t(e.apply(r,n))});return t.then(s,s),t}return new a(function(t){o.push(new u(t,e,r,n))})}function s(){if(i++,!o.isEmpty()){var t=o.shift();t.resolve(n(t.fn,t.self,t.args))}}if("function"==typeof i){var t=r;r=i,i=t}if("number"!=typeof i)throw new TypeError("Expected throat size to be a number but got "+typeof i);if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected throat fn to be a function but got "+typeof r);return"function"==typeof r?function(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);return n(r,this,t)}:function(t){if("function"!=typeof t)throw new TypeError("Expected throat fn to be a function but got "+typeof t);for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);return n(t,this,e)}}if(1===arguments.length&&"function"==typeof t)return a=t,e;if("function"!=typeof(a=r.exports.Promise))throw new Error("You must provide a Promise polyfill for this library to work in older environments");return e(t,arguments[1])},r.exports.default=r.exports,"function"==typeof Promise&&(r.exports.Promise=Promise),c.prototype.push=function(t){this._s1.push(t)},c.prototype.shift=function(){var t=this._s2;if(0===t.length){var e=this._s1;if(0===e.length)return;this._s1=t,t=this._s2=e.reverse()}return t.pop()},c.prototype.isEmpty=function(){return!this._s1.length&&!this._s2.length}},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s,l=r(4),h=r(5),p=r(6),d=o(r(7)),a=o(r(1)),u=r(0),c=(s=a.default,i(f,s),f.prototype.get=function(){var f=this;return this.hash?Promise.resolve(this.hash):(this.workers.removeMessagesByChannel(this.channel),this.workers.removeAllListeners(this.channel),new Promise(function(o,s){var t=f.file.getBlocks(),a=t.length,u=[],c=0;f.workers.on(f.channel,function(t,e){if(t&&s(new Error(e)),u[e.index]=e.data,++c===a){u=u.map(function(t){return l.parse(t)});var r=d.default(f.file.blockSize),n=null;n=1===c?u[0]:(r|=128,n=u.reduce(function(t,e){return t.concat(e)}),p(n));var i=new ArrayBuffer(1);new DataView(i).setUint8(0,r),n=(n=h.create(i).concat(n)).toString(l).replace(/\//g,"_").replace(/\+/g,"-"),f.hash=n,f.workers.removeAllListeners(f.channel),o(n)}}),t.forEach(function(t){f.workers.send({channel:f.channel,payload:{blob:t.blob,index:t.index}})})}))},f);function f(t,e){var r=s.call(this,t)||this;return r.workers=e,r.channel=u.guid(),r}e.default=c}],i.c=o,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=8);function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return r[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var r,o});