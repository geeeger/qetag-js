!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(function(){try{return require("crypto")}catch(t){}}()):"function"==typeof define&&define.amd?define(["crypto"],e):"object"==typeof exports?exports.Qetag=e(function(){try{return require("crypto")}catch(t){}}()):t.Qetag=e(t.crypto)}(self,(function(t){return(()=>{var e={249:function(t,e,r){var n;t.exports=(n=n||function(t,e){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==r.g&&r.g.crypto&&(n=r.g.crypto),!n)try{n=r(417)}catch(t){}var i=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function t(){}return function(e){var r;return t.prototype=e,r=new t,t.prototype=null,r}}(),s={},a=s.lib={},u=a.Base={extend:function(t){var e=o(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},c=a.WordArray=u.extend({init:function(t,r){t=this.words=t||[],this.sigBytes=r!=e?r:4*t.length},toString:function(t){return(t||l).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes,i=t.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var s=r[o>>>2]>>>24-o%4*8&255;e[n+o>>>2]|=s<<24-(n+o)%4*8}else for(o=0;o<i;o+=4)e[n+o>>>2]=r[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-r%4*8,e.length=t.ceil(r/4)},clone:function(){var t=u.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],r=0;r<t;r+=4)e.push(i());return new c.init(e,t)}}),f=s.enc={},l=f.Hex={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var o=e[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new c.init(r,e/2)}},h=f.Latin1={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var o=e[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new c.init(r,e)}},p=f.Utf8={stringify:function(t){try{return decodeURIComponent(escape(h.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return h.parse(unescape(encodeURIComponent(t)))}},d=a.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=p.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var r,n=this._data,i=n.words,o=n.sigBytes,s=this.blockSize,a=o/(4*s),u=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*s,f=t.min(4*u,o);if(u){for(var l=0;l<u;l+=s)this._doProcessBlock(i,l);r=i.splice(0,u),n.sigBytes-=f}return new c.init(r,f)},clone:function(){var t=u.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),y=(a.Hasher=d.extend({cfg:u.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new y.HMAC.init(t,r).finalize(e)}}}),s.algo={});return s}(Math),n)},269:function(t,e,r){var n;t.exports=(n=r(249),function(){var t=n,e=t.lib.WordArray;function r(t,r,n){for(var i=[],o=0,s=0;s<r;s++)if(s%4){var a=n[t.charCodeAt(s-1)]<<s%4*2|n[t.charCodeAt(s)]>>>6-s%4*2;i[o>>>2]|=a<<24-o%4*8,o++}return e.create(i,o)}t.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,n=this._map;t.clamp();for(var i=[],o=0;o<r;o+=3)for(var s=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<r;a++)i.push(n.charAt(s>>>6*(3-a)&63));var u=n.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(t){var e=t.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<n.length;o++)i[n.charCodeAt(o)]=o}var s=n.charAt(64);if(s){var a=t.indexOf(s);-1!==a&&(e=a)}return r(t,e,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),n.enc.Base64)},433:function(t,e,r){var n;t.exports=(n=r(249),function(){if("function"==typeof ArrayBuffer){var t=n.lib.WordArray,e=t.init;(t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var r=t.byteLength,n=[],i=0;i<r;i++)n[i>>>2]|=t[i]<<24-i%4*8;e.call(this,n,r)}else e.apply(this,arguments)}).prototype=t}}(),n.lib.WordArray)},783:function(t,e,r){var n,i,o,s,a,u,c,f;t.exports=(f=r(249),i=(n=f).lib,o=i.WordArray,s=i.Hasher,a=n.algo,u=[],c=a.SHA1=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],a=r[4],c=0;c<80;c++){if(c<16)u[c]=0|t[e+c];else{var f=u[c-3]^u[c-8]^u[c-14]^u[c-16];u[c]=f<<1|f>>>31}var l=(n<<5|n>>>27)+a+u[c];l+=c<20?1518500249+(i&o|~i&s):c<40?1859775393+(i^o^s):c<60?(i&o|i&s|o&s)-1894007588:(i^o^s)-899497514,a=s,s=o,o=i<<30|i>>>2,i=n,n=l}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+a|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),e[15+(n+64>>>9<<4)]=r,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=s.clone.call(this);return t._hash=this._hash.clone(),t}}),n.SHA1=s._createHelper(c),n.HmacSHA1=s._createHmacHelper(c),f.SHA1)},223:t=>{"use strict";t.exports=Math.log2||function(t){return Math.log(t)*Math.LOG2E}},219:t=>{"use strict";function e(t,e,r,n){this.resolve=t,this.fn=e,this.self=r||null,this.args=n}function r(){this._s1=[],this._s2=[]}t.exports=function(n){var i;function o(t,n){var o=new r;function s(r,n,s){if(t){t--;var u=new i((function(t){t(r.apply(n,s))}));return u.then(a,a),u}return new i((function(t){o.push(new e(t,r,n,s))}))}function a(){if(t++,!o.isEmpty()){var e=o.shift();e.resolve(s(e.fn,e.self,e.args))}}if("function"==typeof t){var u=n;n=t,t=u}if("number"!=typeof t)throw new TypeError("Expected throat size to be a number but got "+typeof t);if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected throat fn to be a function but got "+typeof n);return"function"==typeof n?function(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);return s(n,this,t)}:function(t){if("function"!=typeof t)throw new TypeError("Expected throat fn to be a function but got "+typeof t);for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);return s(t,this,e)}}if(1===arguments.length&&"function"==typeof n)return i=n,o;if("function"!=typeof(i=t.exports.Promise))throw new Error("You must provide a Promise polyfill for this library to work in older environments");return o(arguments[0],arguments[1])},t.exports.default=t.exports,"function"==typeof Promise&&(t.exports.Promise=Promise),r.prototype.push=function(t){this._s1.push(t)},r.prototype.shift=function(){var t=this._s2;if(0===t.length){var e=this._s1;if(0===e.length)return;this._s1=t,t=this._s2=e.reverse()}return t.pop()},r.prototype.isEmpty=function(){return!this._s1.length&&!this._s2.length}},22:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.file=t,this.hash=""}return t.prototype.set=function(t){this.hash=t},t.prototype.get=function(){return Promise.resolve(this.hash)},t.prototype.getSync=function(){return this.hash},t}();e.default=r},483:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,r){this.file=t,this.startByte=e,this.endByte=r}return Object.defineProperty(t.prototype,"size",{get:function(){return this.endByte-this.startByte},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.startByte/this.file.blockSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blob",{get:function(){return this.file.slice(this.startByte,this.endByte)},enumerable:!1,configurable:!0}),t}();e.default=r},221:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(483)),o=r(135),s=/\.([^.]+)$/,a=1,u=function(){function t(t){var e=t.file,r=t.blockSize,n=void 0===r?4194304:r,i=t.batch,u=void 0===i?o.guid():i;if(!e)throw new Error("QZFile: no file provided!");this.file=e,this.blockSize=n,this.batch=u,this.size=e.size,this.name=e.name||"unknown_"+a++,this.lastModified=e.lastModified||(new Date).getTime();var c=s.exec(e.name)?RegExp.$1.toLowerCase():"";!c&&e.type&&(c=/\/(jpg|jpeg|png|gif|bmp)$/i.exec(e.type)?RegExp.$1.toLowerCase():"")&&(this.name+="."+c),this.ext=c,!e.type&&this.ext&&~"jpg,jpeg,png,gif,bmp".indexOf(this.ext)?this.type="image/"+("jpg"===this.ext?"jpeg":this.ext):this.type=e.type||"application/octet-stream"}return t.prototype.slice=function(t,e){var r=this.file;return r.slice.call(r,t,e)},t.prototype.getBlocks=function(){if(this.blocks)return this.blocks;for(var t=0,e=[];t<this.size;){var r=t+this.blockSize;r>this.size&&(r=this.size),e.push(new i.default(this,t,r)),t+=this.blockSize}return this.blocks=e,e},t.prototype.getBlockByIndex=function(t){return this.getBlocks()[t]},t}();e.default=u},644:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.utils=e.Worker=e.Normal=e.File=e.Block=e.Base=void 0;var a=o(r(135)),u=r(22);Object.defineProperty(e,"Base",{enumerable:!0,get:function(){return s(u).default}});var c=r(483);Object.defineProperty(e,"Block",{enumerable:!0,get:function(){return s(c).default}});var f=r(221);Object.defineProperty(e,"File",{enumerable:!0,get:function(){return s(f).default}});var l=r(880);Object.defineProperty(e,"Normal",{enumerable:!0,get:function(){return s(l).default}});var h=r(818);Object.defineProperty(e,"Worker",{enumerable:!0,get:function(){return s(h).default}}),e.utils=a},880:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=r(269),a=r(433),u=r(783),c=o(r(223)),f=o(r(219)),l=function(t){function e(e,r){void 0===r&&(r=1);var n=t.call(this,e)||this;return n.concurrency=r,n}return i(e,t),e.prototype.loadNext=function(t){return new Promise((function(e,r){var n=new FileReader;n.onload=function(){if(n.result){var t=a.create(n.result),i=u(t);e(i)}else r(new Error("Read file error!"))},n.onloadend=function(){n.onloadend=n.onload=n.onerror=null},n.onerror=function(){r(new Error("Read file error!"))},n.readAsArrayBuffer(t.blob)}))},e.prototype.get=function(){var t=this;return this.hash?Promise.resolve(this.hash):Promise.all(this.file.getBlocks().map(f.default(Promise).apply(this,[this.concurrency,function(e){return t.loadNext(e)}]))).then((function(e){var r=c.default(t.file.blockSize),n=null;1===e.length?n=e[0]:(r|=128,n=e.reduce((function(t,e){return t.concat(e)})),n=u(n));var i=new ArrayBuffer(1);return new DataView(i).setUint8(0,r),n=(n=a.create(i).concat(n)).toString(s).replace(/\//g,"_").replace(/\+/g,"-"),t.hash=n,n}))},e}(o(r(22)).default);e.default=l},135:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guid=void 0,e.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}},818:function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=r(269),a=r(433),u=r(783),c=o(r(223)),f=o(r(22)),l=r(135),h=function(t){function e(e,r){var n=t.call(this,e)||this;return n.workers=r,n.channel=l.guid(),n}return i(e,t),e.prototype.get=function(){var t=this;return this.hash?Promise.resolve(this.hash):(this.workers.removeMessagesByChannel(this.channel),this.workers.removeAllListeners(this.channel),new Promise((function(e,r){var n=t.file.getBlocks(),i=n.length,o=[],f=0;t.workers.on(t.channel,(function(n,l){if(n&&r(new Error(l)),o[l.index]=l.data,++f===i){o=o.map((function(t){return s.parse(t)}));var h=c.default(t.file.blockSize),p=null;1===f?p=o[0]:(h|=128,p=o.reduce((function(t,e){return t.concat(e)})),p=u(p));var d=new ArrayBuffer(1);new DataView(d).setUint8(0,h),p=(p=a.create(d).concat(p)).toString(s).replace(/\//g,"_").replace(/\+/g,"-"),t.hash=p,t.workers.removeAllListeners(t.channel),e(p)}})),n.forEach((function(e){t.workers.send({channel:t.channel,payload:{blob:e.blob,index:e.index}})}))})))},e}(f.default);e.default=h},417:e=>{"use strict";if(void 0===t){var r=new Error("Cannot find module 'crypto'");throw r.code="MODULE_NOT_FOUND",r}e.exports=t}},r={};function n(t){if(r[t])return r[t].exports;var i=r[t]={exports:{}};return e[t].call(i.exports,i,i.exports,n),i.exports}return n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n(644)})()}));